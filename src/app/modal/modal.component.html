<ion-content class="content">

    <ion-fab vertical="top" horizontal="end" slot="fixed">
        <ion-fab-button class="topButton" (click)="closeModal()">
            <ion-icon name="close"></ion-icon>
        </ion-fab-button>
    </ion-fab>
    <ion-grid class="grid">
        <ion-col>
            <ion-list>
                <ion-item>
                        <ion-label color="primary" position="floating">Otsikkosi</ion-label>
                        <ion-input maxlength="30" [(ngModel)]="title"></ion-input>
                </ion-item>
                
                <ion-item>
                        <ion-label color="primary" position="floating">Kerro lisää</ion-label>
                        <ion-textarea  id="previewSibling" [(ngModel)]="query"></ion-textarea>
                </ion-item>
                

                <ion-row class="buttons">
                    <h3>Share with mentors</h3>
                    <ion-checkbox (ionChange)="pickMentors()"></ion-checkbox>
                    <ion-button (click)="upload()">
                        <ion-icon name="attach"></ion-icon>
                    </ion-button>
                    <ion-button (click)="update()">
                        <ion-icon name="send"></ion-icon>
                    </ion-button>
                </ion-row>
                <ion-list id="userlist" [@slide]="identifier">
                    <ion-item id="listlabel" *ngFor="let mentor of friends | async; let i = index">
                        <ion-checkbox *ngIf="mentor" (ionChange)="pickMentor(mentor?.data?.uid)"></ion-checkbox>
                        <ion-label>{{mentor?.data?.nickName}} {{mentor?.data?.email}}</ion-label>
                        <div *ngIf="friends.length < 1">
                            <p>No mentors found</p>
                        </div>
                    </ion-item>
                </ion-list>
            </ion-list>
            <ion-item [@slideInOut]="uploadFiles" class="dropzone"
                      dropZone
                      (hovered)="toggleHover($event)"
                      (dropped)="startUpload($event)"
                      [class.hovering]="isHovering">


                <input id="fileinput" class="file-input" type="file" (change)="defineUpload($event.target.files)"
                       accept="image/*">
                <label for="fileinput" icon-only ion-button class="center">
                    <ion-row align-items-start>
                        <ion-col>
                            <a class="icon-circle-small image">
                                <ion-icon class="vertical" color="light" name="image"></ion-icon>
                            </a>
                        </ion-col>
                        <ion-col>
                            <p style="font-size: smaller">Image</p>
                        </ion-col>
                    </ion-row>
                </label>
                <input id="fileinputAudio" class="file-input" type="file"
                       (change)="defineUpload($event.target.files)"
                       accept="audio/*">
                <label for="fileinputAudio" icon-only ion-button class="center">
                    <ion-row align-items-start>
                        <ion-col>
                            <a class="icon-circle-small audio">
                                <ion-icon class="vertical" color="light" name="headset"></ion-icon>
                            </a>
                        </ion-col>
                        <ion-col>
                            <p style="font-size: smaller">Audio</p>
                        </ion-col>
                    </ion-row>
                </label>
                <input id="fileinputVideo" class="file-input" type="file"
                       (change)="defineUpload($event.target.files)"
                       accept="video/*">
                <label for="fileinputVideo" icon-only ion-button class="center">
                    <ion-row align-items-start>
                        <ion-col>
                            <a class="icon-circle-small video">
                                <ion-icon class="vertical" color="light" name="videocam"></ion-icon>
                            </a>
                        </ion-col>
                        <ion-col>
                            <p style="font-size: smaller">Video</p>
                        </ion-col>
                    </ion-row>
                </label>
                <input id="fileinputOther" class="file-input" type="file"
                       (change)="defineUpload($event.target.files)"
                       accept="application/pdf">
                <label for="fileinputOther" icon-only ion-button class="center">
                    <ion-row align-items-start>
                        <ion-col>
                            <a class="icon-circle-small document">
                                <ion-icon class="vertical" color="light" name="document"></ion-icon>
                            </a>
                        </ion-col>
                        <ion-col>
                            <p style="font-size: smaller">PDF</p>
                        </ion-col>
                    </ion-row>
                </label>
            </ion-item>
            <ion-item [@slideInOut]="!uploadFiles" *ngIf="percentage | async as pct">

                <progress class="progress is-info"
                          [value]="pct"
                          max="100">
                </progress>

                {{ pct | number }}%

            </ion-item>
        </ion-col>

    </ion-grid>

</ion-content>
